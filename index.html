<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Pendaftaran PDP KESAN Sinjai 2026</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Lucide Icons (Untuk Icon gaya Apple) -->
    <script src="https://unpkg.com/lucide@latest"></script>

    <!-- Google Fonts (Inter untuk kemiripan dengan San Francisco) -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">

    <style>
        /* --- iOS SYSTEM STYLES --- */
        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            background-color: #F2F2F7; /* iOS Light Gray Background */
            color: #000;
            -webkit-tap-highlight-color: transparent;
            overflow: hidden; /* Prevent body scroll, handle inside app container */
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        /* Phone Frame (Desktop View) */
        .iphone-frame {
            width: 100%;
            height: 100%;
            max-width: 430px; /* iPhone Pro Max width */
            max-height: 932px;
            background: #fff;
            position: relative;
            overflow: hidden;
            display: flex;
            flex-direction: column;
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
        }

        @media (min-width: 640px) {
            .iphone-frame {
                height: 90vh;
                border-radius: 40px;
                border: 8px solid #1c1c1e;
            }
        }

        /* Custom Scrollbar for form content */
        .custom-scroll::-webkit-scrollbar {
            width: 0px;
            background: transparent;
        }

        /* iOS Inputs */
        .ios-input {
            background-color: #F2F2F7;
            border-radius: 10px;
            padding: 12px 16px;
            font-size: 17px;
            width: 100%;
            border: none;
            outline: none;
            transition: all 0.2s ease;
        }
        .ios-input:focus {
            background-color: #E5E5EA;
        }

        .ios-label {
            font-size: 13px;
            color: #8E8E93;
            margin-bottom: 6px;
            margin-left: 4px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            font-weight: 500;
        }

        /* Animations */
        .step-container {
            display: none;
            opacity: 0;
            transition: opacity 0.4s ease, transform 0.4s cubic-bezier(0.2, 0.8, 0.2, 1);
        }

        .step-active {
            display: flex;
            flex-direction: column;
            opacity: 1;
            animation: slideInRight 0.4s cubic-bezier(0.2, 0.8, 0.2, 1);
        }

        .step-exit {
            animation: slideOutLeft 0.4s cubic-bezier(0.2, 0.8, 0.2, 1);
        }

        @keyframes slideInRight {
            from { transform: translateX(100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }

        @keyframes slideOutLeft {
            from { transform: translateX(0); opacity: 1; }
            to { transform: translateX(-20%); opacity: 0; }
        }

        /* Glassmorphism Header & Footer */
        .glass-panel {
            background: rgba(255, 255, 255, 0.85);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border-top: 1px solid rgba(0,0,0,0.1);
        }

        /* Progress Bar */
        .progress-track {
            background: #E5E5EA;
            height: 4px;
            border-radius: 2px;
            overflow: hidden;
        }
        .progress-fill {
            background: #007AFF; /* iOS Blue */
            height: 100%;
            transition: width 0.4s ease;
        }
    </style>
</head>
<body>

    <!-- Audio Elements (Sound Effects) -->
    <!-- Sound: Soft click -->
    <audio id="sound-tap" src="https://assets.mixkit.co/active_storage/sfx/2568/2568-preview.mp3" preload="auto"></audio>
    <!-- Sound: Swoosh/Slide -->
    <audio id="sound-swoosh" src="https://assets.mixkit.co/active_storage/sfx/2572/2572-preview.mp3" preload="auto"></audio>
    <!-- Sound: Success -->
    <audio id="sound-success" src="https://assets.mixkit.co/active_storage/sfx/2019/2019-preview.mp3" preload="auto"></audio>

    <!-- Main App Container -->
    <div class="iphone-frame relative">
        
        <!-- iOS Status Bar (Visual Only) -->
        <div class="h-12 w-full flex justify-between items-end px-6 pb-2 select-none z-50 bg-white/80 backdrop-blur-md">
            <span class="font-semibold text-sm">9:41</span>
            <div class="flex gap-2 items-center">
                <i data-lucide="signal" class="w-4 h-4"></i>
                <i data-lucide="wifi" class="w-4 h-4"></i>
                <i data-lucide="battery" class="w-5 h-5"></i>
            </div>
        </div>

        <!-- Header -->
        <div class="px-6 pt-4 pb-2 bg-white z-40">
            <h1 class="text-xs font-bold text-gray-400 uppercase tracking-widest mb-1">Pendaftaran</h1>
            <h2 class="text-2xl font-bold tracking-tight text-gray-900 leading-tight">PDP KESAN <br> <span class="text-blue-600">Angkatan 15</span></h2>
            
            <!-- Progress Bar -->
            <div class="mt-4">
                <div class="flex justify-between text-[10px] font-medium text-gray-400 mb-1">
                    <span id="step-indicator">Langkah 1 dari 5</span>
                    <span id="percent-indicator">20%</span>
                </div>
                <div class="progress-track">
                    <div id="progress-bar" class="progress-fill w-[20%]"></div>
                </div>
            </div>
        </div>

        <!-- Form Content Area -->
        <div class="flex-1 overflow-y-auto custom-scroll relative p-6 pb-32" id="form-container">
            
            <!-- STEP 1: Data Diri Dasar -->
            <div class="step-container step-active" id="step-1">
                <div class="mb-6">
                    <h3 class="text-lg font-semibold mb-2">Data Diri</h3>
                    <p class="text-sm text-gray-500">Mari mulai dengan identitas dasar Anda.</p>
                </div>

                <div class="space-y-5">
                    <div>
                        <label class="ios-label">Nama Lengkap</label>
                        <input type="text" id="nama" class="ios-input" placeholder="Masukkan nama lengkap">
                    </div>
                    
                    <div class="grid grid-cols-2 gap-4">
                        <div>
                            <label class="ios-label">Tempat Lahir</label>
                            <input type="text" id="tempat_lahir" class="ios-input" placeholder="Kota lahir">
                        </div>
                        <div>
                            <label class="ios-label">Tanggal Lahir</label>
                            <input type="date" id="tgl_lahir" class="ios-input">
                        </div>
                    </div>

                    <div>
                        <label class="ios-label">Agama</label>
                        <select id="agama" class="ios-input bg-white">
                            <option value="Islam">Islam</option>
                            <option value="Kristen">Kristen</option>
                            <option value="Katolik">Katolik</option>
                            <option value="Hindu">Hindu</option>
                            <option value="Buddha">Buddha</option>
                            <option value="Konghucu">Konghucu</option>
                        </select>
                    </div>

                    <div>
                        <label class="ios-label">Alamat Lengkap</label>
                        <textarea id="alamat" rows="3" class="ios-input" placeholder="Jalan, RT/RW, Desa/Kelurahan"></textarea>
                    </div>
                </div>
            </div>

            <!-- STEP 2: Pendidikan & Organisasi -->
            <div class="step-container" id="step-2">
                <div class="mb-6">
                    <h3 class="text-lg font-semibold mb-2">Pendidikan</h3>
                    <p class="text-sm text-gray-500">Latar belakang sekolah dan organisasi.</p>
                </div>

                <div class="space-y-5">
                    <div>
                        <label class="ios-label">Asal Sekolah</label>
                        <input type="text" id="asal_sekolah" class="ios-input" placeholder="Contoh: SMA Negeri 1 Sinjai">
                    </div>
                    
                    <div>
                        <label class="ios-label">Kelas</label>
                        <input type="text" id="kelas" class="ios-input" placeholder="Contoh: X IPA 1">
                    </div>

                    <div>
                        <label class="ios-label">Organisasi yang dimasuki</label>
                        <textarea id="organisasi" rows="3" class="ios-input" placeholder="Sebutkan jika ada (OSIS, Pramuka, dll)"></textarea>
                    </div>
                </div>
            </div>

            <!-- STEP 3: Minat & Favorit -->
            <div class="step-container" id="step-3">
                <div class="mb-6">
                    <h3 class="text-lg font-semibold mb-2">Minat & Hobi</h3>
                    <p class="text-sm text-gray-500">Ceritakan sedikit tentang kesukaan Anda.</p>
                </div>

                <div class="space-y-5">
                    <div>
                        <label class="ios-label">Hobi</label>
                        <input type="text" id="hobi" class="ios-input" placeholder="Apa hobi Anda?">
                    </div>
                    
                    <div>
                        <label class="ios-label">Buku yang pernah dibaca</label>
                        <input type="text" id="buku" class="ios-input" placeholder="Judul buku terakhir">
                    </div>

                    <div>
                        <label class="ios-label">Idola Favorit</label>
                        <input type="text" id="idola" class="ios-input" placeholder="Siapa idola Anda?">
                    </div>
                </div>
            </div>

            <!-- STEP 4: Tokoh Inspirasi -->
            <div class="step-container" id="step-4">
                <div class="mb-6">
                    <h3 class="text-lg font-semibold mb-2">Tokoh Inspirasi</h3>
                    <p class="text-sm text-gray-500">Siapa yang menginspirasi hidup Anda?</p>
                </div>

                <div class="space-y-5">
                    <div>
                        <label class="ios-label">Tokoh Agama Favorit</label>
                        <input type="text" id="tokoh_agama" class="ios-input" placeholder="Nama tokoh agama">
                    </div>
                    
                    <div>
                        <label class="ios-label">Tokoh Publik Favorit</label>
                        <input type="text" id="tokoh_publik" class="ios-input" placeholder="Nama tokoh publik/nasional">
                    </div>
                </div>
            </div>

            <!-- STEP 5: Motivasi (Final) -->
            <div class="step-container" id="step-5">
                <div class="mb-6">
                    <h3 class="text-lg font-semibold mb-2">Motivasi</h3>
                    <p class="text-sm text-gray-500">Langkah terakhir sebelum mengirim.</p>
                </div>

                <div class="space-y-5">
                    <div>
                        <label class="ios-label">Tahu KESAN dari mana?</label>
                        <input type="text" id="sumber_info" class="ios-input" placeholder="Teman, Sosmed, Sekolah, dll">
                    </div>

                    <div>
                        <label class="ios-label">Alasan Masuk KESAN</label>
                        <textarea id="alasan" rows="4" class="ios-input" placeholder="Jelaskan motivasi Anda bergabung..."></textarea>
                    </div>

                    <!-- Info Box -->
                    <div class="bg-blue-50 p-4 rounded-xl border border-blue-100 mt-6">
                        <div class="flex items-start gap-3">
                            <i data-lucide="info" class="text-blue-600 w-5 h-5 mt-0.5"></i>
                            <div class="text-xs text-blue-800 leading-relaxed">
                                Setelah menekan tombol kirim, Anda akan diarahkan ke WhatsApp Admin. Link grup WhatsApp akan disertakan otomatis di dalam pesan Anda.
                            </div>
                        </div>
                    </div>
                </div>
            </div>

        </div>

        <!-- Navigation Footer -->
        <div class="absolute bottom-0 left-0 w-full glass-panel p-4 z-50">
            <div class="flex gap-3">
                <button id="btn-back" onclick="prevStep()" class="hidden px-6 py-3.5 rounded-xl bg-gray-200 text-gray-700 font-semibold text-[15px] active:scale-95 transition-transform duration-200">
                    Kembali
                </button>
                <button id="btn-next" onclick="nextStep()" class="flex-1 py-3.5 rounded-xl bg-[#007AFF] text-white font-semibold text-[15px] shadow-lg shadow-blue-500/30 active:scale-95 transition-transform duration-200 flex justify-center items-center gap-2">
                    Lanjut <i data-lucide="arrow-right" class="w-4 h-4"></i>
                </button>
                <button id="btn-submit" onclick="submitForm()" class="hidden flex-1 py-3.5 rounded-xl bg-[#34C759] text-white font-semibold text-[15px] shadow-lg shadow-green-500/30 active:scale-95 transition-transform duration-200 flex justify-center items-center gap-2">
                    Kirim ke WhatsApp <i data-lucide="send" class="w-4 h-4"></i>
                </button>
            </div>
            <!-- Home Indicator -->
            <div class="w-full flex justify-center mt-4 pb-1">
                <div class="w-32 h-1.5 bg-black/20 rounded-full"></div>
            </div>
        </div>

    </div>

    <script>
        // --- KONFIGURASI YANG BISA DIUBAH (EDITABLE) ---
        
        // 1. Nomor WhatsApp Admin (Gunakan format 62 di depan, tanpa + atau 0)
        const ADMIN_WA = "6287731949761"; 
        
        // 2. Link Grup WhatsApp (Akan disertakan di pesan)
        const GROUP_LINK = "https://chat.whatsapp.com/JzhUrpN1uQmDUvjMvkgyyt";
        
        // --- END KONFIGURASI ---

        // Inisialisasi Icons
        lucide.createIcons();

        // State Variable
        let currentStep = 1;
        const totalSteps = 5;

        // Sound Elements
        const tapSound = document.getElementById('sound-tap');
        const swooshSound = document.getElementById('sound-swoosh');
        const successSound = document.getElementById('sound-success');

        // Fungsi Play Sound
        function playTap() {
            tapSound.currentTime = 0;
            tapSound.volume = 0.5;
            tapSound.play().catch(e => console.log("Audio prevent:", e));
        }

        function playSwoosh() {
            swooshSound.currentTime = 0;
            swooshSound.volume = 0.3;
            swooshSound.play().catch(e => console.log("Audio prevent:", e));
        }

        function playSuccess() {
            successSound.currentTime = 0;
            successSound.play().catch(e => console.log("Audio prevent:", e));
        }

        // Fungsi Navigasi Langkah
        function updateUI() {
            // Update Progress Bar
            const percent = (currentStep / totalSteps) * 100;
            document.getElementById('progress-bar').style.width = percent + '%';
            document.getElementById('percent-indicator').innerText = Math.round(percent) + '%';
            document.getElementById('step-indicator').innerText = `Langkah ${currentStep} dari ${totalSteps}`;

            // Show/Hide Steps
            for(let i = 1; i <= totalSteps; i++) {
                const el = document.getElementById(`step-${i}`);
                if (i === currentStep) {
                    el.classList.remove('hidden');
                    el.classList.add('step-active');
                    el.style.display = 'flex';
                    
                    // Reset scroll to top
                    document.getElementById('form-container').scrollTop = 0;
                } else {
                    el.classList.remove('step-active');
                    el.style.display = 'none';
                }
            }

            // Button States
            const btnBack = document.getElementById('btn-back');
            const btnNext = document.getElementById('btn-next');
            const btnSubmit = document.getElementById('btn-submit');

            if(currentStep === 1) {
                btnBack.classList.add('hidden');
            } else {
                btnBack.classList.remove('hidden');
            }

            if(currentStep === totalSteps) {
                btnNext.classList.add('hidden');
                btnSubmit.classList.remove('hidden');
                btnSubmit.style.display = 'flex'; // Ensure flex layout
            } else {
                btnNext.classList.remove('hidden');
                btnSubmit.classList.add('hidden');
            }
        }

        function nextStep() {
            if(validateStep(currentStep)) {
                playTap();
                setTimeout(playSwoosh, 100);
                currentStep++;
                updateUI();
            } else {
                // Shake effect or simple alert for validation
                alert("Mohon lengkapi data di langkah ini sebelum melanjutkan.");
            }
        }

        function prevStep() {
            playTap();
            if(currentStep > 1) {
                currentStep--;
                updateUI();
            }
        }

        // Validasi Sederhana (Pastikan input tidak kosong)
        function validateStep(step) {
            let inputs;
            if (step === 1) {
                inputs = ['nama', 'tempat_lahir', 'tgl_lahir', 'alamat'];
            } else if (step === 2) {
                inputs = ['asal_sekolah', 'kelas'];
            } else {
                return true; // Langkah lain opsional atau validasi minimal
            }

            for(let id of inputs) {
                const el = document.getElementById(id);
                if(!el.value.trim()) {
                    el.focus();
                    el.style.border = "1px solid red";
                    setTimeout(() => el.style.border = "none", 2000);
                    return false;
                }
            }
            return true;
        }

        // Fungsi Kirim ke WhatsApp
        function submitForm() {
            // Validasi langkah terakhir
            const alasan = document.getElementById('alasan').value;
            if(!alasan.trim()) {
                alert("Mohon isi alasan Anda masuk KESAN.");
                return;
            }

            playSuccess();

            // Ambil semua data
            const data = {
                nama: document.getElementById('nama').value,
                kelas: document.getElementById('kelas').value,
                hobi: document.getElementById('hobi').value,
                buku: document.getElementById('buku').value,
                tokohAgama: document.getElementById('tokoh_agama').value,
                tokohPublik: document.getElementById('tokoh_publik').value,
                idola: document.getElementById('idola').value,
                tglLahir: document.getElementById('tgl_lahir').value,
                agama: document.getElementById('agama').value,
                alamat: document.getElementById('alamat').value,
                tempatLahir: document.getElementById('tempat_lahir').value,
                organisasi: document.getElementById('organisasi').value,
                asalSekolah: document.getElementById('asal_sekolah').value,
                alasan: document.getElementById('alasan').value,
                sumber: document.getElementById('sumber_info').value
            };

            // Format Pesan WhatsApp
            const message = `
*PENDAFTARAN PDP KESAN ANGKATAN 15 (2026)*
*KABUPATEN SINJAI*

--------------------------------
*DATA PRIBADI*
ðŸ‘¤ Nama: ${data.nama}
ðŸŽ‚ TTL: ${data.tempatLahir}, ${data.tglLahir}
ðŸ™ Agama: ${data.agama}
ðŸ  Alamat: ${data.alamat}

*PENDIDIKAN*
ðŸ« Sekolah: ${data.asalSekolah}
ðŸ“š Kelas: ${data.kelas}
ðŸŽ— Organisasi: ${data.organisasi}

*MINAT & TOKOH*
ðŸŽ¨ Hobi: ${data.hobi}
ðŸ“– Buku: ${data.buku}
ðŸ‘³â€â™‚ï¸ Tokoh Agama: ${data.tokohAgama}
ðŸ‘¨â€ðŸ’¼ Tokoh Publik: ${data.tokohPublik}
ðŸŒŸ Idola: ${data.idola}

*MOTIVASI*
ðŸ’¡ Sumber Info: ${data.sumber}
ðŸ”¥ Alasan: ${data.alasan}
--------------------------------

Saya siap mengikuti proses PDP.
Berikut Link Grup yang sudah saya simpan:
${GROUP_LINK}
`.trim();

            // Encode URI dan Buka WhatsApp
            const url = `https://wa.me/${ADMIN_WA}?text=${encodeURIComponent(message)}`;
            
            // Delay sedikit untuk efek sound
            setTimeout(() => {
                window.open(url, '_blank');
            }, 800);
        }

        // Init pertama kali
        updateUI();

    </script>
</body>
</html>

